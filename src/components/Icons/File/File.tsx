import { memo } from "react"
import { CSSCode, Code, HTMLCode, JSCode, JSONCode, ReactCode, TSCode } from "./Code"
import { getIcon } from "../svg"

export const Img = getIcon(
    <>
        <path d="M779.01824 107.56096a115.22048 115.22048 0 0 1 115.22048 115.22048v537.6a115.22048 115.22048 0 0 1-115.22048 115.22048H241.41824a115.22048 115.22048 0 0 1-115.22048-115.22048V222.8224a115.22048 115.22048 0 0 1 115.22048-115.22048h537.6z" fill="#D1EBC6"></path><path d="M779.01824 107.56096a115.22048 115.22048 0 0 1 115.22048 115.22048v537.6a115.22048 115.22048 0 0 1-115.22048 115.22048H241.41824a115.22048 115.22048 0 0 1-115.22048-115.22048V222.8224a115.22048 115.22048 0 0 1 115.22048-115.22048h537.6z m0 57.58976H241.41824c-31.82592 0-57.63072 25.8048-57.63072 57.63072v537.6c0 31.82592 25.8048 57.58976 57.63072 57.58976h537.6c31.82592 0 57.58976-25.8048 57.58976-57.58976V222.8224c0-31.82592-25.8048-57.63072-57.58976-57.63072z" fill="#569C39"></path><path d="M310.23104 430.08a28.79488 28.79488 0 0 1 39.60832 0.57344l323.13344 315.92448a28.79488 28.79488 0 0 1-40.26368 41.20576L348.5696 509.99296a28.79488 28.79488 0 0 0-39.60832-0.6144l-126.85312 116.65408-19.49696-21.21728a28.79488 28.79488 0 0 1 1.72032-40.67328l145.8176-134.144z" fill="#569C39"></path><path d="M693.53472 498.4832L886.3744 667.648l-38.01088 43.29472-152.86272-134.18496-103.79264 100.59776-40.09984-41.3696 141.96736-137.54368zM560.08704 403.29216a65.29024 65.29024 0 1 0 0-130.58048 65.29024 65.29024 0 0 0 0 130.58048z m0 57.63072a122.88 122.88 0 1 0 0-245.84192 122.88 122.88 0 0 0 0 245.84192z" fill="#569C39">
        </path>
    </>
)

export const Video = getIcon(
    <>
        <path
            d="M959.5 511.9c0-246.8-200.8-447.7-447.7-447.7C265 64.2 64.2 265 64.2 511.9c0 246.8 200.8 447.7 447.7 447.7H874v-49.7H716.5c144.2-74.5 243-224.9 243-398z m-845.6 0c0-219.4 178.5-397.9 397.9-397.9 219.4 0 397.9 178.5 397.9 397.9 0 219.4-178.5 397.9-397.9 397.9-219.4 0-397.9-178.5-397.9-397.9z" fill="#24BC77"></path><path d="M383.9 698.5l323.2-186.6-323.2-186.6v373.2z m39.5-304.8l204.7 118.2-204.7 118.2V393.7z" fill="#24BC77">
        </path>
    </>
)

export const Audio = getIcon(
    <path d="M786.041 157.916c12.236 9.466 24.383 18.923 34.822 29.878 7.156 7.499 46.555 14.042 81.053 13.13 26.828-0.713 50.994-9.015 53.964-6.091 10.729 10.513-63.475 77.317-45.22 112.97 76.713 149.77 65.469 336.709-44.262 478.493-151.322 195.513-432.742 231.247-628.443 79.79C42.262 714.628 6.266 433.226 157.597 237.705 308.919 42.188 590.348 6.458 786.041 157.916z m130.539 61.263c-46.445 7.978-79.717 5.342-120.369-10.458-60.082-23.345-171.672-106.257-221.096-30.835-27.486 41.943-18.229 330.898-18.814 424.693-63.79-52.402-127.924-97.721-212.811-91.097-98.704 7.706-192.652 91.638-158.388 201.956 49.37 158.92 325.375 185.161 390.175 39.723 16.632-37.322 12.229-76.758 16.396-116.229l29.428-279.967c4.765-29.761 9.674-41.555 26.25-66.768 120.877 53.097 207.19 76.505 269.229-71.018z"
        fill="#d5649c">
    </path>
)

export const Zip = getIcon(
    <path d="M619.360855 933.398654c1.37296 0.063998 2.681921 0.191994 4.054881 0.191995H932.697675a65.668076 65.668076 0 0 0 65.604078-65.604078V150.999576a65.668076 65.668076 0 0 0-65.604078-65.604078H623.415736c-1.37296 0-2.71392 0.127996-4.054881 0.190995V0L15.70554 80.573639v858.378853l603.655315 82.652578v-88.207416z m0-810.077267c1.340961-0.191994 2.681921-0.414988 4.054881-0.414988H932.697675c15.515545 0 28.125176 12.609631 28.125176 28.125176v716.986995a28.157175 28.157175 0 0 1-28.125176 28.125176H623.415736c-1.37296 0-2.71392-0.223993-4.054881-0.414988V123.353386zM248.337724 605.441262l-143.914783-3.670892v-23.401314l86.866455-133.251097v-1.180965l-78.917688 1.307962v-36.041944l134.561058-3.511897v26.082235l-87.504437 133.731082v1.148967l88.909395 1.404959v37.350905z m72.403879 1.851946l-44.757688-1.149966V404.958136l44.758688-1.149966v203.486038z m171.081988-92.963276c-16.664512 15.35555-41.149794 22.059354-69.338968 21.867359a113.809666 113.809666 0 0 1-16.121528-1.052969v74.351822l-46.09865-1.181966V405.532119c14.237583-2.809918 34.381993-5.171848 63.178149-5.938826 29.497136-0.765978 50.791512 4.309874 65.188091 15.292552 13.887593 10.439694 23.305317 27.965181 23.305317 48.843569s-7.119791 38.628868-20.079412 50.600518z m-65.923069-79.172681a80.129652 80.129652 0 0 0-19.537427 2.202936v61.390201c4.021882 0.925973 8.969737 1.212964 15.833536 1.212965 25.380256-0.031999 41.214793-12.897622 41.214792-34.47799 0-19.378432-13.631601-30.7111-37.478901-30.296113zM732.213548 138.93193h73.521846v30.329111H732.213548v-30.329111z m-73.553845 45.39667h73.521846v30.35911h-73.521846v-30.35911z m73.553845 49.674544h73.521846v30.359111H732.213548v-30.359111z m0 95.900191h73.521846v30.328111H732.213548v-30.329111z m-73.553845-48.716573h73.521846v30.328112h-73.521846v-30.328112z m72.819867 376.130981a72.787868 72.787868 0 0 0 72.786868-72.817867L790.826831 462.51645c0-40.224822-19.155439-72.818867-59.37926-72.818867s-59.348261 32.594045-59.348261 72.818867l-13.471606 121.982426a72.787868 72.787868 0 0 0 72.819867 72.818867z m-24.103294-133.858079h48.205588v101.838017h-48.205588v-101.837017z"
        fill="#8a8a8a">
    </path>
)

export const Binary = getIcon(
    <path d="M390.4 492.8c-38.4 0-51.2 38.4-51.2 102.4v12.8l102.4-70.4c-12.8-25.6-25.6-44.8-51.2-44.8z m51.2 89.6l-96 70.4c6.4 32 19.2 44.8 44.8 44.8 32 0 51.2-38.4 51.2-102.4v-12.8z m0 0l-96 70.4c6.4 32 19.2 44.8 44.8 44.8 32 0 51.2-38.4 51.2-102.4v-12.8z m-51.2-89.6c-38.4 0-51.2 38.4-51.2 102.4v12.8l102.4-70.4c-12.8-25.6-25.6-44.8-51.2-44.8z m460.8-204.8L640 76.8c-6.4-6.4-12.8-12.8-25.6-12.8H192c-19.2 0-32 12.8-32 32v832c0 19.2 12.8 32 32 32h640c19.2 0 32-12.8 32-32V313.6c0-12.8 0-19.2-12.8-25.6z m-460.8 448c-64 0-96-51.2-96-140.8 0-89.6 32-140.8 96-140.8s96 51.2 96 140.8c0 89.6-32 140.8-96 140.8z m339.2-6.4h-192v-38.4h76.8V505.6l-76.8 51.2V512l76.8-51.2h44.8v230.4h70.4v38.4z m-128-403.2V140.8l185.6 185.6H601.6z m-256 326.4c6.4 32 19.2 44.8 44.8 44.8 32 0 51.2-38.4 51.2-102.4v-12.8l-96 70.4z m44.8-160c-38.4 0-51.2 38.4-51.2 102.4v12.8l102.4-70.4c-12.8-25.6-25.6-44.8-51.2-44.8z" fill="#1296db">
    </path>
)

const IconMatch = [
    {
        name: 'image',
        exts: ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'svg', 'ico'],
        icon: Img
    },
    {
        name: 'video',
        exts: ['mp4', 'webm', 'ogg', 'flv', 'avi', 'mov', 'wmv', 'rmvb', 'mkv'],
        icon: Video
    },
    {
        name: 'audio',
        exts: ['mp3', 'wav', 'flac', 'ape', 'ogg', 'aac', 'wma'],
        icon: Audio
    },
    {
        name: 'zip',
        exts: ['zip', 'rar', '7z', 'tar', 'gz', 'bz2', 'xz', 'pak'],
        icon: Zip
    },
    {
        name: 'binary',
        exts: ['exe', 'dmg', 'iso', 'apk', 'dll', 'deb', 'rpm', 'msi', 'bin', 'sh', 'bat', 'cmd', 'com', 'vbs', 'app', 'jar', 'apk', 'msu', 'cab', 'run', 'pkg', 'dmg', 'iso', 'appimage', 'xapk', 'msix'],
        icon: Binary
    },
    {
        name: 'react',
        exts: ['jsx', 'tsx'],
        icon: ReactCode
    },
    {
        name: 'javascript',
        exts: ['js', 'mjs'],
        icon: JSCode
    },
    {
        name: 'typescript',
        exts: ['ts'],
        icon: TSCode
    },
    {
        name: 'html',
        exts: ['html', 'htm', 'xml', 'xhtml'],
        icon: HTMLCode
    },
    {
        name: 'css',
        exts: ['css', 'scss', 'sass', 'less'],
        icon: CSSCode
    },
    {
        name: 'json',
        exts: ['json'],
        icon: JSONCode
    },
    {
        name: 'code',
        exts: ['yaml', 'yml', 'md', 'markdown', 'txt', 'log', 'gitignore', 'env', 'ini', 'properties', 'conf', 'config', 'htaccess', 'htpasswd', 'htgroups', 'htpasswd', 'htgroups', 'htaccess', 'htpasswd', 'htgroups'],
        icon: Code
    },

]

const FileIcon = memo(function FileIcon({ name }: {
    name?: string
}) {

    const ext = name?.split('.').pop()?.toLowerCase() || ''
    const Icon = IconMatch.find(item => item.exts.includes(ext))?.icon || Code
    return <Icon />
})

FileIcon.displayName = 'FileIcon'

export default FileIcon